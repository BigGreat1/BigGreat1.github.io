<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Team 11 Rentals</title>
        <link rel="stylesheet" href="../styles/normalize.css">
        <link rel="stylesheet" href="../styles/contact.css">
        <link rel="stylesheet" href="../styles/faq.css">
        <link rel="stylesheet" href="../styles/about.css">
        <link rel="stylesheet" href="../styles/policy.css">
        <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    </head>
    <body>
        <header>
            <h1><a href="firstpage.html">TEAM 11 RENTALS</a></h1>
            <nav class="menu">
                <ul>
                    <li><a href="firstpage.html">Home</a></li>
                    <li><a href="../text/cartypes.html">Car Types</a></li>
                    <li><a href="../text/agencies.html">Agencies</a></li>
                    <li><a href="../text/insurance.html">Insurance</a></li>
                    <li><a href="../text/reviews.html">Reviews</a></li>
                    <li><button class="signIn">Sign In</button></li>
                </ul>
            </nav>
        </header>
        <div class="filter">
            <table>
                    <tr>
                        <td>
                            <div class="filterDates">
                                <label for="dateRange">Pick-up & Return Dates</label>
                                <input type="text" id="dateRange" name="dateRange" placeholder="Select date range">
                            </div>
                        </td>
                        <td>
                            <div class="filterTime">
                                    <label for="Pick-upTime">Pick-up Time</label>
                                    <input type="text" id="pickUpTime" placeholder="Pick-up Time">
                                    <input type="text" id="dropOffTime" placeholder="Drop-off Time">
                            </div>
                        </td>
                        <td>
                            <div class="departure">
                                <div>
                                  <label for="pickupLocation">Pick-up Location</label>
                                  <input type="text" id="pickupLocation" name="pickupLocation" placeholder="Enter pick-up location" autocomplete="off">
                                  <div id="pickupSuggestions" class="suggestion-box"></div>
                                </div>
                                <div>
                                  <label for="dropoffLocation">Drop-off Location</label>
                                  <input type="text" id="dropoffLocation" name="dropoffLocation" placeholder="Enter drop-off location" autocomplete="off">
                                  <div id="dropoffSuggestions" class="suggestion-box"></div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <button class="search">Search</button>
                        </td>
                    </tr>
            </table>
        </div>
        <div id="results" style="margin-top: 20px;"></div>
        <main>
            <div>

                <div class="section">
                    <h2>Popular Car Type</h2>
                    <div class="grid">
                        <div class="box">
                        <img src="../images/Honda.jpg" alt="Car 1" />
                    </div>
                        <div class="box">
                            <img src="../images/Hyndai.jpg" alt="Car 1" />
                        </div>
                        <div class="box">
                            <img src="../images/sportcar.jpg" alt="Car 1" />
                        </div>
                        <div class="box">
                            <img src="../images/supercar.jpg" alt="Car 1" />
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>Popular Car Agencies</h2>
                    <div class="grid">
                        <div class="box">Agency 1</div>
                        <div class="box">Agency 2</div>
                        <div class="box">Agency 3</div>
                        <div class="box">Agency 4</div>
                    </div>
                </div>

                <div class="reviews">
                    <h2>REVIEWS</h2>
                    <div class="grid">
                        <div class="box">Review 1</div>
                        <div class="box">Review 2</div>
                        <div class="box">Review 3</div>
                        <div class="box">Review 4</div>
                    </div>
                </div>

                <div class="section" style="margin-top: 40px;">
                    <h2>INSURANCE</h2>
                    <input type="text" placeholder="Insurance Info" />
                </div>
            </div>
        </main>

        <footer>
            
            <!-- Contact Form -->
            <div class="footer-column contact-form">
                <h3>Contact Us</h3>
                <form action="#" method="post">
                <input type="text" name="name" placeholder="Your Name" required>
                <input type="email" name="email" placeholder="Your Email" required>
                <textarea name="message" rows="3" placeholder="Your Message" required></textarea>
                <button type="submit">Send</button>
                </form>
            </div>
            </div>
                <!-- Quick Links -->
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                    <li><a href="../text/About.html">About Us</a></li>
                    <li><a href="../text/faq.html">FAQ</a></li>
                    <li><a href="../text/policy.html">Policy</a></li>
                    </ul>
                </div>
            
                <!-- Social Media -->
                <div class="footer-column">
                    <h3>Follow Us</h3>
                    <div class="social-icons">
                    <a href="https://facebook.com/yourpage"><img src="../icons/facebook_icon.png" alt="Facebook"></a>
                    <a href="https://twitter.com/yourpage"><img src="../icons/twitter_icon.png" alt="Twitter"></a>
                    <a href="https://instagram.com/yourpage"><img src="../icons/instagram_icon.png" alt="Instagram"></a>
                    <a href="https://youtube.com/yourchannel"><img src="../icons/youtube_icon.png" alt="YouTube"></a>
                    </div>
                    <p>&copy; 2025 Team 11 Rentals</p>
                </div>

        </footer>

        <script>
            //dates
            flatpickr("#dateRange", {
            mode: "range",
            dateFormat: "Y-m-d",
            minDate: "today",
            locale: {
                rangeSeparator: " ~ "
            }
            });
            const rangeInput = document.getElementById('dateRange');
            rangeInput.addEventListener('change', function () {
                const selectedRange = this.value.split(" ~ ");
                const pickupDate = selectedRange[0];
                const returnDate = selectedRange[1];

                console.log("Pick-up:", pickupDate);
                console.log("Return:", returnDate);
            });
            //time
            flatpickr("#pickUpTime", {
                enableTime: true,
                noCalendar: true,
                dateFormat: "H:i",
                time_24hr: true,
                minuteIncrement: 30,
            });

            flatpickr("#dropOffTime", {
                enableTime: true,
                noCalendar: true,
                dateFormat: "H:i",
                time_24hr: true,
                minuteIncrement: 30,
            });
            //Departure
            const cities = ["Toronto", "Vancouver", "Montreal", "Calgary", "Ottawa", "Winnipeg", "Edmonton", "Quebec City"];

            function setupAutocomplete(inputId, suggestionBoxId) {
                const input = document.getElementById(inputId);
                const suggestionBox = document.getElementById(suggestionBoxId);

                input.addEventListener('input', function () {
                    const query = this.value.toLowerCase();
                    suggestionBox.innerHTML = '';

                    if (query.length === 0) return;

                    const matches = cities.filter(city =>
                        city.toLowerCase().startsWith(query)
                    );

                    matches.forEach(city => {
                        const div = document.createElement('div');
                        div.textContent = city;
                        div.addEventListener('click', () => {
                            input.value = city;
                            suggestionBox.innerHTML = '';
                        });
                        suggestionBox.appendChild(div);
                    });
                });

                document.addEventListener('click', (e) => {
                    if (!input.contains(e.target) && !suggestionBox.contains(e.target)) {
                        suggestionBox.innerHTML = '';
                    }
                });
            }
            setupAutocomplete('pickupLocation', 'pickupSuggestions');
            setupAutocomplete('dropoffLocation', 'dropoffSuggestions');
            //filter
            //car list
            const cars = [
                { id: "Honda", availableDate: '2025-07-20', location: 'Toronto', availableFrom: '08:00', availableTo: '22:00' },
                { id: "Hyundai", availableDate: '2025-07-21', location: 'Vancouver', availableFrom: '10:00', availableTo: '23:00' },
                { id: "Sportcar", availableDate: '2025-07-25', location: 'Moontreal', availableFrom: '11:00', availableTo: '23:00' },
                { id: "Supercar", availableDate: '2025-08-01', location: 'Calgary', availableFrom: '07:00', availableTo: '22:00' }
            ];
        
            document.querySelector('.search').addEventListener('click', function () {
                const dateRange = document.getElementById('dateRange').value;
                const [pickupDate, returnDate] = dateRange.split(" ~ ");
                const pickUpTime = document.getElementById('pickUpTime').value;
                const dropOffTime = document.getElementById('dropOffTime').value;
                const pickupLocation = document.getElementById('pickupLocation').value;
                const dropoffLocation = document.getElementById('dropoffLocation').value;



        
                const filteredCars = cars.filter(car => {
                    return car.availableDate === pickupDate &&
                    car.location.toLowerCase().includes(pickupLocation.toLowerCase())&&
                    pickUpTime >= car.availableFrom &&
                    dropOffTime <= car.availableTo;
                });
        
                console.log(filteredCars);
        
                const resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = '';
        
                if (filteredCars.length === 0) {
                    resultsDiv.textContent = 'No cars available for the selected filters.';
                } else {
                    filteredCars.forEach(car => {
                        const div = document.createElement('div');
                        div.textContent = `Car ID: ${car.id}, Location: ${car.location}`;
                        resultsDiv.appendChild(div);
                    });
                }
            });
            
        </script>

    </body>
</html>

